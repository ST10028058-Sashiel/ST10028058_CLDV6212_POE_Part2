@model List<ST10028058_CLDV6212_POE.Models.FileModel>

<h1 class="mb-4 text-center">Upload Files</h1>

<!-- Display any messages -->
@if (TempData["Message"] != null)

{
    <div class="alert alert-info text-center">
        @TempData["Message"]
    </div>
}

<!-- Upload form -->
<form asp-action="Upload" method="post" enctype="multipart/form-data" class="mb-4">
    <div class="input-group">
        <input type="file" name="file" class="form-control" aria-label="Upload" />
        <button type="submit" class="btn btn-primary">Upload</button>
    </div>
</form>

<!-- Display uploaded files -->
@if (Model != null && Model.Count > 0)

{
    <div class="list-group shadow-sm">
        @foreach (var file in Model)

        {
            <div class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <strong>@file.Name</strong><br />
                    <small>Size: @file.DisplaySize | Last Modified: @file.LastModified?.ToString("g")</small>
                </div>
                <a asp-action="DownloadFile" asp-route-fileName="@file.Name" class="btn btn-outline-secondary btn-sm">Download</a>
            </div>
        }
    </div>
}

else

{
    <p class="text-muted text-center">No files found or model is null.</p>
}

<style>
    body {
        background-color: #f8f9fa;
    }

    .input-group {
        max-width: 500px;
        margin: 0 auto;
    }

    .list-group {
        max-width: 800px;
        margin: 20px auto;
        border-radius: 8px;
        overflow: hidden;
    }

    .list-group-item {
        border: 1px solid #dee2e6;
        border-radius: 8px;
        margin-bottom: 10px;
        padding: 15px;
        transition: background-color 0.3s ease;
    }

        .list-group-item:hover {
            background-color: #f1f3f5;
        }

    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
    }

        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #004085;
        }

    .btn-outline-secondary {
        border-radius: 5px;
    }
</style>
